<!-- dialog-box.component.html -->

<div mat-dialog-title>
  <mat-card style=" background-color: #ffa000;">
<h1 mat-dialog-title style="color: white;">cre√©r widget </h1>
</mat-card>
</div>

<div mat-dialog-content  fxLayout="column" fxLayoutGap="15px" class="mat-typography">
  <div *ngIf="action != 'Delete'; else elseTemplate" fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="start start">

   <div fxLayout="column" style="width: 100%;" fxFlex ="20" class="border-style">
    <h1>information</h1>
    <mat-form-field>

      <input placeholder="Widget Name FR" matInput [(ngModel)]="data.nameFr"
      (keyup)="setChartOptions(data.width,data.height,
      data.nameFr,data.textColor,data.backgroundColor,
      data.size,data.font )"
      >

      <mat-icon matPrefix>phone</mat-icon>
      <mat-hint>Include area code</mat-hint>
    </mat-form-field>

    <mat-form-field >

      <input placeholder="Widget Name EN" matInput [(ngModel)]="data.nameEn">
    </mat-form-field>
    <mat-form-field >
      <mat-label>Description</mat-label>
      <textarea matInput [(ngModel)]="data.description"></textarea>
    </mat-form-field>
    <mat-form-field appearance="fill">

    <mat-label>Select Type Widget</mat-label>
<form  [formGroup]="widgetControleForm">
    <mat-select   formControlName="typeWidget" name="typeWidget" (selectionChange)= "setType($event)"  >
      <mat-option *ngFor="let typeWidget of types"  
      [value]="typeWidget.id"        
>
        {{typeWidget.name}}
      </mat-option>

    </mat-select>
  </form>
    </mat-form-field>

    

  </div>
  <div fxLayout="column"  fxFlex  class="border-style" >
    <h1>Style</h1>
    <div fxLayout="row" fxFlex  class="border-style">
      <div fxLayout="column" style="width: 100%" fxFlex>
        <ng-container *ngIf="data.type == 4; else elseSlidedrGrapique">
          <div >

            <mat-label class="text-color">width <span style=" color: #ffa000;">*</span>: {{data.width}}px</mat-label>
    
            <mat-slider min="300" step="0.5" [(ngModel)]="data.width"  max="1000" value="400" (input)="setChartOptions(data.width,data.nameFr,data.textColor);
            selectedColor($event); data.width=$event.value"></mat-slider>
          </div>
          <div>
            <mat-label class="text-color">height <span style=" color: #ffa000;">*</span>: {{data.height}}px</mat-label>
    
            <mat-slider min="100" step="0.5"  max="400" value="300" (input)="setChartOptions(data.width,data.height,
            data.nameFr,data.textColor,data.backgroundColor,
            data.size,data.font ); data.height=$event.value"></mat-slider>
          </div>
        </ng-container>
        <ng-template #elseSlidedrGrapique>
          
<div >
  
  <mat-label class="text-color">width <span style=" color: #ffa000;">*</span>: {{data.width}}%</mat-label>

  <mat-slider (input)="setChartOptions(data.width,data.nameFr,data.textColor);
  selectedColor($event); data.width=$event.value"></mat-slider>
</div>
<div>
  <mat-label class="text-color">height <span style=" color: #ffa000;">*</span>: {{data.height}}%</mat-label>

  <mat-slider (input)="setChartOptions(data.width,data.height,
  data.nameFr,data.textColor,data.backgroundColor,
  data.size,data.font ); data.height=$event.value"></mat-slider>
</div>
        </ng-template>
        
     


    
    </div>
      <div fxLayout="column" fxFlex>
   
<div fxLayout="row">
     
    
    <mat-label class="text-color">Text Color <span style=" color: #ffa000;">*</span>: 
    
      <mcc-color-picker  hideButtons="true"  [selectedColor]="data.textColor" (selected)=" data.textColor =$event ;setChartOptions(data.width,data.height,
      data.nameFr,data.textColor,data.backgroundColor,
      data.size,data.font ) ;  ">
    </mcc-color-picker> 

    </mat-label>

  

      </div>

  <div fxLayout="row">        
    <mat-label class="text-color">background color <span style=" color: #ffa000;">*</span>: 
      <mcc-color-picker [selectedColor]="data.backgroundColor" hideButtons="true" (selected)=" data.backgroundColor =$event ;setChartOptions(data.width,data.height,
      data.nameFr,data.textColor,data.backgroundColor,
      data.size,data.font ) ;  "></mcc-color-picker> 
  
  </mat-label>
  </div>

  

      </div>
      
      <div fxLayout="column"   fxFlex>
        <div>
          <ng-container *ngIf="data.type != '4'; else elseGraphiqueStyle">
            <mat-form-field   style="padding: 1px;
width: 50%;
height: 50%; margin-top: -5%;" >
  <mat-label>size</mat-label>
     <mat-select  [(ngModel)]="data.size" >
      <mat-option  value="1" > size</mat-option>
      <mat-option  *ngFor="let item of font_size" [value]="item">{{item}}</mat-option>
     </mat-select> 
    </mat-form-field>

    <mat-form-field   style="padding: 1px;
    width: 50%;
    height: 50%;margin-top: -5%;" >
      <mat-label>font</mat-label>

      <mat-select  [(ngModel)]="data.font" >
        <mat-option  value="font" >font</mat-option>

       <mat-option  *ngFor="let item of  font_style" [value]="item">{{item}}</mat-option>
      </mat-select> 
     </mat-form-field>
          </ng-container>
          <ng-template #elseGraphiqueStyle>
            

            <mat-form-field   style="padding: 1px;
            width: 50%;
            height: 50%; margin-top: -5%;" >
              <mat-label>size</mat-label>
                 <mat-select  [(ngModel)]="data.size"   (selectionChange)="setChartOptions(data.width,data.height,
                 data.nameFr,data.textColor,data.backgroundColor,
                 data.size,data.font)">
                  <mat-option  value="1" > size</mat-option>
                  <mat-option  *ngFor="let item of size" [value]="item">{{item}}</mat-option>
                 </mat-select> 
                </mat-form-field>
            
                <mat-form-field   style="padding: 1px;
                width: 50%;
                height: 50%;margin-top: -5%;" >
                  <mat-label>font</mat-label>
            
                  <mat-select  [(ngModel)]="data.font" >
                    <mat-option  value="font" >font</mat-option>
            
                   <mat-option  *ngFor="let item of  font_style" [value]="item">{{item}}</mat-option>
                  </mat-select> 
                 </mat-form-field>

          </ng-template>
          

        </div>
        
            </div>
            <div fxLayout="column"   *ngIf="(data.type == 1)||(data.type == 2)">
              <div>
         
              <mat-label class="text-color">background Small Card <span style=" color: #ffa000;">*</span>: </mat-label>
              
                <mcc-color-picker usedColorLabel="backgroundSmallWidget " [selectedColor]="data.backgroundSmallWidget"  hideButtons="true" (selected)=" data.backgroundSmallWidget =$event ;  "></mcc-color-picker> 
              
              </div>
              <div>
                <mat-label  class="text-color">indicator color <span style=" color: #ffa000;">*</span>: </mat-label>

                <mcc-color-picker  hideButtons="true"  [selectedColor]="data.colorSmallWidget"  (selected)=" data.colorSmallWidget =$event ;  "></mcc-color-picker> 
              
          
              </div>
              
                  </div>
    </div>

  
    <div fxFlex *ngIf="data.type == 1 " id="margin" >
  <app-indicateur [backgroundColor]=" data.backgroundSmallWidget "
   [textColor] ="data.textColor"
    [width] ="data.width"
  [title]="data.nameFr" 
  [height]="data.height"
  [size] ="data.size"
  [font]="data.font"
  [backgroundSmallWidget]="data.backgroundColor"
 [colorSmallWidget]="data.colorSmallWidget"
  ></app-indicateur>
  
    </div>
    
    <div fxFlex *ngIf="data.type == 2 " id="margin" >

      <IndicateurListe [backgroundColor]=" data.backgroundSmallWidget "
       [textColor] ="data.textColor"
        [width] ="data.width"
      [title]="data.nameFr" 
      [height]="data.height"
      [size] ="data.size"
      [font]="data.font"
      [backgroundSmallWidget]="data.backgroundColor"
     [colorSmallWidget]="data.colorSmallWidget"
      ></IndicateurListe>
      
        </div>
      
        <div style="    padding: 100px;
        " fxFlex class="border-style" *ngIf="data.type == 3">
<widget-list  
[textColor] ="data.textColor"
[width] ="data.width"
[title]="data.nameFr" 
[height]="data.height"
[size] ="data.size"
[font]="data.font"
[backgroundColor]=" data.backgroundColor "
></widget-list>
        </div>
<div  fxFlex class="border-style" *ngIf="data.type == 4">
  <app-area [title]="data.nameFr"  [chartOptions]="chartOptions"></app-area>
  </div>
  </div>



  <ng-template #elseTemplate>
    Sure to delete <b>{{data.nameFr}}</b>?
  </ng-template>
</div>

</div> 
<div mat-dialog-actions align = "end">
  <button mat-button (click)="doAction()">{{action}}</button>
  <button mat-button (click)="closeDialog()" mat-flat-button color="warn">Cancel</button>
</div>